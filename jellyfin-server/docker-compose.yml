services:
  jellyfin-server:
    image: jellyfin/jellyfin
    container_name: jellyfin_server
    restart: "unless-stopped"
    group_add:
      - ${JELLYFIN_GROUP_ADD}
    devices:
      - /dev/dri/renderD128:/dev/dri/renderD128
    volumes:
      - ${JELLYFIN_CONFIG_LOCATION}:/config
      - ${JELLYFIN_CACHE_LOCATION}:/cache
      - type: bind
        source: ${JELLYFIN_MEDIA_LOCATION}
        target: /media
    networks:
      - proxy-bridge

networks:
  proxy-bridge:
    name: proxy_bridge
    external: true
